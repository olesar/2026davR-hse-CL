---
title: "HW4"
output: html_document
date: "2025-03-05"
editor_options: 
  markdown: 
    wrap: 72
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r message=FALSE, warning=FALSE}
library(tidyverse)
```

Домашнее задание сдается на почту в виде двух файлов, Rmd и html (или в виде тетрадки, если вы выполняли задание в колабе). Чтобы облегчить проверку домашнего задания, мы просим вас писать код в блоки для кода на R, например,

```{r example}
# YOUR CODE HERE 
# (do not forget to remove #'s and all this text so that we could run the code)
```

и текст в блоки для текста. Пожалуйста, впишите ниже ваше имя и фамилию:

```{txt name}
     YOUR NAME HERE
```

Перед сдачей домашнего задания рекомендуем запустить `Run All` или сгенерировать html-страницу с помощью `Knit`, чтобы убедиться, что в финальной версии весь ваш код будет запускаться без проблем. Дисклеймер - в зависимости от среды, в которой вы выполняете задания, округление непрерывных значений может производиться несколько по-разному. В заданиях ниже не будут оцениваться расхождения с образцом в количестве знаков после запятой в выдаче. Аналогично, несколько иначе могут выглядеть шрифты в таблицах и графиках, на такие расхождения тоже не стоит обращать внимания, если нет специального требования в задании. И не стесняйтесь задавать вопросы по домашнему заданию в телеграм-группе.

## 1. Универсальные лингвические иерархии: порядок прилагательных в новогреческом языке (стандартный и кипрский диалекты)  

Данные (социолингвистическая анкета и результаты эксперимента) взяты, с адаптацией, из исследования:
Leivada, Evelina; Westergaard, Marit, 2019, [Universal linguistic hierarchies are not innately wired](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6679903/pdf/peerj-07-7438.pdf). PeerJ, v.7.

Источник данных: репозиторий TROLLing:
Leivada, Evelina; Westergaard, Marit, 2019, "Replication Data for: Universal linguistic hierarchies are not innately wired", https://doi.org/10.18710/NTLLUF, DataverseNO, V1

#### Конструкции с двумя прилагательными

В английском языке порядок двух прилагательных в таких фразах, как:
```
 a big black bag # хорошо
*a black big bag # неприемлемо, грамматически неправильно или семантически аномально
```
определяется семантическим классом прилагательного (например, прилагательное «цвета» ближе к существительному, чем прилагательное «размера»).

Синтаксическая иерархия близости к существительному в универсальной грамматике Хомского предполагает следующий порядок, который считается врожденным и универсальным (= действительным для всех языков).

```
Subjective Comment > Evidential > Size > Length
> Height > Speed > Depth > Width > Temperature > Wetness > Age
> Shape > Color > Nationality/Origin > Material 
# (на основе Scott, 2002: 114)
```

Цель исследования Leivada & Westergaard — определить, что происходит, когда люди воспринимают примеры с порядком, который либо соответствует иерархии, либо нарушает ее.

#### Метод

В первом эксперименте 140 нейротипичных взрослых носителей языка выполнили задание с выбором на время (a timed forced choice task), в котором использовались стимулы, представляющие комбинацию двух прилагательных и конкретного существительного (например, *Έπια ένα στενό ισπανικό βρασιόλι.* 'I bought a narrow Spanish bracelet.'). Были собраны данные двух типов:

(i) суждения о приемлемости по 3-балльной шкале Ликерта:
     1. неправильно,
     2. ни правильно, ни неправильно,
     3. правильный;

(ii) время реакции (RT).

В стимулах использовались три условия:  
1. прилагательное размера > прилагательное национальности, 
2. прилагательное цвета > прилагательное формы,  
3. прилагательное субъективного комментария > прилагательное материала. 

Каждое условие предъявлялось в двух вариантах порядка слов. При конгруэнтном порядке расположение пары прилагательных соответствовало тому, что диктует универсальная иерархия. В неконгруэнтном порядке порядок был обратным, поэтому иерархия была нарушена.

Во втором эксперименте 30 билингвов (носителей стандартного и кипрского греческого) были протестированы на обоих диалектах, по 36 наблюдений на участника, по 18 на каждый вариант.

В обоих экспериментах использовались два типа [филлеров] (https://www.hlp.rochester.edu/resources/BCS152-Tutorial/Fillers.html): FillerAcceptable и FillerUnacceptable — предложения, которые включали правильно построенные и неграмматические структуры, соответственно. В обеих задачах соотношение наполнителей к реальным тестовым структурам составляло 2:1. Смотри также [ключи к данным](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC6679903/bin/peerj-07-7438-s001.txt).

#### Данные

Загрузите данные из [файла](https://raw.githubusercontent.com/olesar/2025dav4compling/refs/heads/main/data/greek-word-order-mono-acceptability-coded-rt.txt") в переменную `mono`, переведя строковые данные в факторы. В переменной `mono_socio` сохраните данные социолингвистической [анкеты](https://raw.githubusercontent.com/olesar/2025dav4compling/refs/heads/main/data/greek-word-order-mono-acceptability-coded-rt.txt), также переведя строковые данные в факторы.

```{r loaddata}
#YOUR CODE HERE 
```

## Описание данных

### 1.1

Взглянем на данные `mono_socio`, чтобы ответить на следующие вопросы о социолингвистических характеристиках испытуемых: 

1. Сколько участников указано в датафрейме?

2. Сколько из них женщин и мужчин?

3. Какие уровни образования указаны в датафрейме?

4. Сколько участников каждого уровня образования?

5. Сколько леворуких и праворуких участников?

Напишите код, представляющий ответы на эти вопросы в виде одной или нескольких таблиц. 
Используйте функции из пакета tidyverse: `filter`, `group_by`, `count` and `distinct`. 
(Еще один способ - использовать `pivot_wider`.)

```{r 1.1}
#YOUR CODE HERE
```

### 1.2

Сравните полученную информацию с данными из таблицы 1 в [статье](https://pmc.ncbi.nlm.nih.gov/articles/PMC6679903/pdf/peerj-07-7438.pdf). Можно ли сказать, что данные, которые вы загрузили по ссылке, позволяют воспроизвести результаты этого исследования?

```{txt 1.2}
YOUR TEXT HERE

```


### 1.3

Постройте график плотности, который показывает распределение RT в эксперименте в целом (для всех участников и условий. Отобразите красным пунктиром линию, показывающую среднее значение RT. 

```{r 1.3}
#YOUR CODE HERE
```

### 1.4

Верно ли, что данные времени реакции нормально распределены? Есть ли в распределении длинные левые или правые хвосты?? 

```{txt 1.4}
YOUR TEXT HERE

```

### 1.5

Преобразуйте данные с помощью функциии логарифма (RTlog = log10(RT)).

```{r 1.5}
#YOUR CODE HERE
```

### 1.6

Создайте график, похожий на 1.3, но показывающий логарифимированные значения RT. 

```{r 1.6}
#YOUR CODE HERE
```

### 1.7

Отфильтруйте выбросы:  
* автоматические ответы, время реакции на которые меньше 600 ms (будем полагать, что кнопка была нажата слишком быстро, еще до того, как у участника было достаточно времени рассмотреть показанный ему стимул и принять решение);  
* ответы, в которых RTlog отличается от среднего значения RTlog более, чем на 3 стандартных отклонения (SD);  
* филлеры (как приемлемые, так и неприемлемые).  
Сохраните очищенные от выбросов данные в переменную `mono1`.

```{r 1.7}
#YOUR CODE HERE
```

### 1.8 Тест на разницу средних

Проанализируйте разницу в среднем значении RTlog у двух групп (порядок слов в стимуле: конгруэнтный vs неконгруэнтный). Сформулируйте нулевую и альтернативную гипотезу, аргументируйте, какой тип t-test'а или его аналогов следует применить, сделайте статистический и содержательный вывод о значимости различия.  

```{txt 1.8}
YOUR TEXT HERE

```

```{r 1.8a}
#YOUR CODE HERE
```

### 1.9

ANOVA. Проанализируйте разницу в среднем значении RTlog, сгруппировав данные по трем условиям 
(прилагательное размера > прилагательное национальности, прилагательное цвета > прилагательное формы, прилагательное субъективного комментария > прилагательное материала) и по участнику. Сформулируйте нулевую и альтернативную гипотезу, аргументируйте, какой тип дисперсионного анализа следует применить, сделайте статистический и содержательный вывод о значимости различия. Это задание выполняется только для ответов при порядке слов Incongruent.  

```{txt 1.9}
YOUR TEXT HERE

```

```{r 1.9a}
#YOUR CODE HERE
```

### 1.10 Post-hoc тест

Примените TukeyHSD тест, чтобы выяснить, какие конкретно пары условий TypeOfStimuli отличаются друг от друга по среднему значению RTlog.  
Это задание, аналогично, выполняется только для ответов при порядке слов Incongruent.  

```{r 1.10}
#YOUR CODE HERE
```

Запишите ниже интерпретацию post-hoc теста.  

```{txt 1.10a}
YOUR TEXT HERE

```
